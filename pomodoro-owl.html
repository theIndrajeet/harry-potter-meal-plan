<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magical Owl Pomodoro - The Enchanted Update</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <style>
        :root {
            --parchment: #fdf5e6; /* Lighter parchment */
            --dark-brown: #4a3b31;
            --maroon: #6a0dad; /* More magical purple */
            --gold: #ffd700; /* Brighter gold */
            --light-brown: #d2b48c; /* Tan */
            --owl-body: #E0E0E0; /* Lighter Gray for Snowy Owl */
            --owl-spots: #BDBDBD; /* Medium Gray for spots */
            --owl-beak-feet: #ffae42; /* OrangeYellow */
            --owl-eyes: #f0e68c; /* Khaki - glowing eyes */
            --owl-pupils: #2f4f4f; /* DarkSlateGray */
            --owl-hat-color: #483D8B; /* DarkSlateBlue for hat */
            --owl-spectacles-frame: #708090; /* SlateGray */
            --owl-scroll-paper: #f0e68c; /* Khaki for scroll */
            --progress-bar-bg: var(--light-brown);
            --progress-bar-fill: var(--gold);
            --potion-focus: #87CEEB; /* SkyBlue */
            --ingredient-moon-dew: #add8e6; /* LightBlue */
            --ingredient-sparkle-seed: #fffacd; /* LemonChiffon */
        }

        body {
            font-family: 'Merriweather', serif;
            background-color: var(--parchment);
            color: var(--dark-brown);
            background-image:
                radial-gradient(circle at top left, rgba(255,215,0,0.07) 0%, transparent 35%), /* Gold shimmer top left */
                radial-gradient(circle at bottom right, rgba(106,13,173,0.07) 0%, transparent 35%), /* Purple shimmer bottom right */
                url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23c8bfa8" fill-opacity="0.1"%3E%3Cpath d="M30 0c16.568 0 30 13.432 30 30S46.568 60 30 60C13.432 60 0 46.568 0 30S13.432 0 30 0zm0 3c14.912 0 27 12.088 27 27S44.912 57 30 57C15.088 57 3 44.912 3 30S15.088 3 30 3zm0 10c9.389 0 17 7.611 17 17s-7.611 17-17 17c-9.389 0-17-7.611-17-17s7.611-17 17-17zm0 3c7.732 0 14 6.268 14 14s-6.268 14-14 14S16 37.732 16 30s6.268-14 14-14z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* Align to top to allow scrolling if content is long */
            min-height: 100vh;
            padding: 1.5rem;
            overflow-x: hidden;
        }

        .container {
            background: linear-gradient(135deg, rgba(253, 245, 230, 0.97) 0%, rgba(245, 229, 218, 0.97) 100%); /* Parchment gradient */
            padding: 2rem;
            border-radius: 20px;
            border: 2px solid var(--gold);
            box-shadow: 0 0 20px rgba(255,215,0,0.5), 0 8px 30px rgba(74, 59, 49, 0.6); /* Gold glow + darker shadow */
            max-width: 700px;
            width: 100%;
            margin-bottom: 2rem; /* Space for footer */
            position: relative;
        }
        .container::before { /* Ornate border effect */
            content: '';
            position: absolute;
            top: -5px; left: -5px; right: -5px; bottom: -5px;
            border-radius: 25px; /* Slightly larger radius for outer border */
            border: 3px dashed var(--light-brown);
            opacity: 0.5;
            z-index: -1;
            pointer-events: none;
        }


        .header-title {
            font-family: 'Cinzel Decorative', cursive;
            font-weight: 900;
            color: var(--maroon);
            text-align: center;
            font-size: 2.8rem;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 0px var(--gold), 3px 3px 0px var(--dark-brown);
            letter-spacing: 1px;
        }

        /* New Pixel Owl V2 Styles */
        .pixel-owl-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.5rem;
            position: relative;
            height: 140px; /* Increased height for hat/glasses */
            transform-style: preserve-3d; /* For 3D effects */
        }
        .pixel-owl {
            width: 100px; /* 10x10 pixels for body */
            height: 120px; /* 12x10 pixels for body */
            display: grid;
            grid-template-columns: repeat(10, 10px);
            grid-template-rows: repeat(12, 10px);
            position: relative;
            image-rendering: pixelated; /* Crisper pixels */
            animation: owl-idle-float 3.5s ease-in-out infinite;
        }
        .pixel-owl.studying { animation: owl-study-bob 2s ease-in-out infinite alternate .3s; }
        .pixel-owl.sleeping .eyelid-top, .pixel-owl.sleeping .eyelid-bottom { height: 50% !important; animation: none !important; } /* Force eyelids closed */
        .pixel-owl.sleeping { animation: owl-sleep-gentle-sway 5s ease-in-out infinite; }
        .pixel-owl.happy { animation: owl-happy-hop 0.6s ease-out; }
        .pixel-owl.peckish { transform: scale(0.95) rotate(-3deg); animation-play-state: paused; }
        .pixel-owl.tired { transform: scale(0.9) rotate(6deg); animation-play-state: paused; }


        .pixel { background-color: transparent; width: 10px; height: 10px; }
        /* Owl Body & Features */
        .p-body { background-color: var(--owl-body); }
        .p-spot { background-color: var(--owl-spots); }
        .p-beak { background-color: var(--owl-beak-feet); }
        .p-eye { background-color: var(--owl-eyes); box-shadow: 0 0 3px var(--owl-eyes); }
        .p-pupil { background-color: var(--owl-pupils); }
        .p-wing { background-color: #C0C0C0; } /* Lighter wing for snowy owl */
        .p-feet { background-color: var(--owl-beak-feet); }

        /* Accessories */
        .owl-accessory { position: absolute; display: none; /* Hidden by default */ }

        #owlHat {
            display: none; /* Controlled by JS */
            position: absolute;
            width: 50px; height: 30px;
            top: -15px; /* Adjust to sit on head */
            left: 25px; /* Center it on the 100px owl */
            z-index: 10;
        }
        .hat-pixel { width: 10px; height: 10px; background-color: var(--owl-hat); float: left; border: 1px solid #2c2255; }

        #owlSpectacles {
            display: none; /* Controlled by JS */
            position: absolute;
            width: 70px; height: 20px;
            top: 28px; /* Over the eyes */
            left: 15px;
            z-index: 10;
        }
        .spectacle-pixel { width: 10px; height: 10px; float:left; box-sizing: border-box; }
        .spectacle-frame { border: 2px solid var(--owl-spectacles); }
        .spectacle-bridge { background-color: var(--owl-spectacles); }
        .spectacle-lens { background-color: rgba(173, 216, 230, 0.3); } /* Light blue transparent lens */


        #owlScroll {
            position: absolute;
            width: 30px; height: 20px;
            top: 65px; /* Position near 'hands'/wings */
            left: 35px;
            background-color: var(--owl-scroll-paper);
            border: 1px solid var(--dark-brown);
            border-radius: 2px;
            display: none; /* Shown during study */
            z-index: 5;
            text-align: center;
            line-height: 18px; /* Adjust for border */
            font-size: 0.6rem;
            font-family: 'Cinzel Decorative', cursive;
            color: var(--dark-brown);
            box-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }


        @keyframes owl-idle-float { 0%, 100% { transform: translateY(0) rotate(0deg); } 25% { transform: translateY(-5px) rotate(-2deg); } 75% { transform: translateY(-2px) rotate(2deg); } }
        @keyframes owl-study-bob { 0% { transform: translateY(0px) rotate(-1deg); } 100% { transform: translateY(-2px) rotate(1deg); } }
        @keyframes owl-sleep-gentle-sway { 0%, 100% { transform: rotate(2deg) translateY(1px); } 50% { transform: rotate(-2deg) translateY(0px); } }
        @keyframes owl-happy-hop { 0%, 100% { transform: translateY(0); } 25% {transform: translateY(-10px) scale(1.05) rotate(-3deg);} 50% { transform: translateY(0px) scale(1); } 75% {transform: translateY(-10px) scale(1.05) rotate(3deg);} }

        .eye { position: relative; } /* For eyelid positioning */
        .eyelid-top, .eyelid-bottom { position: absolute; width: 100%; height: 0%; background-color: var(--owl-body); left:0; transition: height 0.1s; }
        .eyelid-top { top:0; animation: blink-top 5s infinite ease-in-out 2s; }
        .eyelid-bottom { bottom:0; animation: blink-bottom 5s infinite ease-in-out 2s; }
        @keyframes blink-top { 0%, 92%, 100% { height: 0%; } 94%, 98% { height: 50%; } }
        @keyframes blink-bottom { 0%, 92%, 100% { height: 0%; } 94%, 98% { height: 50%; } }

        .p-zzz {
            position: absolute;
            font-family: 'Cinzel Decorative', cursive;
            color: var(--maroon);
            opacity: 0;
            font-size: 0.7rem;
            animation: zzz-float 1.8s ease-in-out infinite var(--delay);
        }
        .pixel-owl.sleeping .p-zzz { opacity: 0.7; }
        @keyframes zzz-float { 0%, 100% { opacity: 0.7; transform: translateY(0px) scale(1); } 50% { opacity: 1; transform: translateY(-6px) scale(1.1); } }


        .owl-status { text-align: center; margin-bottom: 1rem; font-size: 1.1rem; color: var(--dark-maroon); }
        .owl-status .energy-bar-container { width: 150px; height: 20px; background-color: var(--light-brown); border: 2px solid var(--dark-brown); border-radius: 10px; margin: 0.5rem auto; overflow: hidden; box-shadow: inset 0 0 5px rgba(0,0,0,0.2); }
        .owl-status .energy-bar { height: 100%; width: 100%; background: linear-gradient(to right, var(--maroon), var(--gold)); transition: width 0.5s ease-in-out; border-radius: 8px 0 0 8px; }

        /* Pomodoro Styles */
        .timer-section { margin-bottom: 1.5rem; background-color: rgba(255,253,248,0.6); padding: 1.5rem; border-radius:15px; border: 1px solid var(--light-brown); box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .timer-display { font-family: 'Cinzel Decorative', cursive; font-size: 4.5rem; color: var(--maroon); text-align: center; margin-bottom: 0.5rem; text-shadow: 2px 2px var(--gold); }
        .progress-bar-container { width: 90%; max-width: 350px; height: 18px; background-color: var(--progress-bar-bg); border-radius: 10px; margin: 0.5rem auto 1rem; overflow: hidden; border: 1px solid var(--dark-brown); box-shadow: 0 1px 3px rgba(0,0,0,0.2) inset; }
        .progress-bar { height: 100%; width: 0%; background: linear-gradient(to right, var(--gold), #FFB300); transition: width 0.5s linear; border-radius: 8px; }

        .controls-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 0.75rem; align-items: center;}
        .pomodoro-button { /* Generic button style */
            font-family: 'Cinzel Decorative', cursive; background-color: var(--gold); color: var(--maroon);
            border: 2px solid var(--maroon); padding: 0.7rem 1rem; border-radius: 8px;
            cursor: pointer; transition: all 0.2s ease-out;
            box-shadow: 0 3px 0 var(--dark-maroon), 0 4px 6px rgba(58, 45, 33, 0.3); margin: 0.4rem; font-size: 0.9rem;
            text-shadow: 1px 1px 0px rgba(255,255,255,0.3);
        }
        .pomodoro-button:hover {
            background-color: var(--maroon); color: var(--gold);
            box-shadow: 0 3px 0 var(--gold), 0 5px 10px rgba(58, 45, 33, 0.5); transform: translateY(-2px);
        }
        .pomodoro-button:active {
            transform: translateY(1px); box-shadow: 0 1px 0 var(--gold), 0 2px 3px rgba(58, 45, 33, 0.4);
        }
        .pomodoro-button:disabled {
            background-color: var(--light-brown); color: #888; border-color: #888; cursor: not-allowed; transform: none; box-shadow: 0 2px 0 #777, 0 2px 4px rgba(58, 45, 33, 0.3);
        }

        .timer-status, .resource-display p { text-align: center; font-size: 1.1rem; margin-top: 0.5rem; color: var(--dark-brown); font-weight: bold; }
        .pet-controls, .shop-section, .daily-tracker, .potions-section { margin-top: 1.5rem; text-align: center; padding: 1.5rem 1rem; background-color: rgba(255,253,248,0.8); border-radius: 10px; border: 1px dashed var(--light-brown); box-shadow: 0 3px 8px rgba(0,0,0,0.15); }
        .shop-section h2, .daily-tracker h2, .potions-section h2 { font-family: 'Cinzel Decorative', cursive; color: var(--maroon); font-size: 1.8rem; margin-bottom: 1rem; text-decoration: underline; text-decoration-color: var(--gold); text-underline-offset: 5px; text-decoration-thickness: 2px;}
        .resource-display { display: flex; justify-content: space-around; margin-bottom: 1rem; padding: 0.75rem; background-color: rgba(0,0,0,0.05); border-radius: 8px;}
        .resource-display span { animation: pulse-text 2.5s infinite ease-in-out; }
        @keyframes pulse-text { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.08); } }

        /* Flying Item Animation */
        .flying-item { position: absolute; font-size: 1.8rem; opacity: 1; animation: fly-to-target 0.8s ease-out forwards; z-index: 50; text-shadow: 0 0 5px var(--gold); }
        @keyframes fly-to-target { 0% { transform: translate(0, 0) scale(1.2); opacity: 1; } 100% { transform: translate(var(--tx, -20px), var(--ty, -80px)) scale(0.2); opacity: 0; } }

        /* Settings Modal & Owl Post Modal */
        .modal { display: none; position: fixed; z-index: 150; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.75); justify-content: center; align-items: center; backdrop-filter: blur(4px); }
        .modal.show { display: flex; animation: modal-fade-in 0.3s ease-out; }
        @keyframes modal-fade-in { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .modal-content {
            background: var(--parchment) url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPMSURBVHhe7d3NbhRJAMfxR0EIKQkhgYQgJCBsISEh9N8QAhISCBsS0hMS0j/QHyAlIWwhISFMIUEgISQkRCSEeBAi9/v9vs/M6Z2Zmdk9s6f7Sb7eznsy83Y+Z4590yRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJ RJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRKIkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRaihanRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJ RJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJ RJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJ RJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJ RJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJ RJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRSRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJ_J_PZJ_CLIENT_ID = Client ID is missing or invalid. Please set the `AZP_CLIENT_ID` environment variable.

The client ID is an application registration registered in Azure AD that is configured to act as a confidential client. It is also known as application ID or app ID. You can find this value in the Azure portal on the resource's Overview page.

You can configure `AZP_CLIENT_ID` using `az login --identity` or `az account set --subscription <subscription>`.

If you don't have the rights to create an application registration, please contact your administrator.

To create an application registration using the Azure CLI, run:
az ad app create --display-name "my-app-name"

To create a service principal, run:
az ad sp create --id <appId>

For more information, see [https://aka.ms/azadsp-more-info](https://aka.ms/azadsp-more-info).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we will require that all Azure DevOps organizations be backed by Azure Active Directory. For more information, please visit [https://aka.ms/AARequired](https://aka.ms/AARequired).
**Note:** In the future, we
Failed to retrieve the content of the remote file.
Error: Failed to fetch.Okay, I've retrieved the "Lore of Two - Shared Universe Homepage (Refined User Code)" which is the version you provided, with my refinements for the Tone.js music, SVG icons, and curtain logic.

This is the code that should be in your `index.html` file.


```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Indrajeet & Ritika’s Shared Universe</title>
  <script src="[https://cdn.tailwindcss.com](https://cdn.tailwindcss.com)"></script>
  <link rel="preconnect" href="[https://fonts.googleapis.com](https://fonts.googleapis.com)">
  <link rel="preconnect" href="[https://fonts.gstatic.com](https://fonts.gstatic.com)" crossorigin>
  <link href="[https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Merriweather:wght@400;700&display=swap](https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&family=Merriweather:wght@400;700&display=swap)" rel="stylesheet">
  <script src="[https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js](https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js)"></script>
  <style>
    /* Shared Magic Styles */
    :root { /* Define colors for consistency */
        --parchment: #f5eeda;
        --dark-brown: #3a2d21;
        --maroon: #740001;
        --dark-maroon: #ae0001;
        --gold: #eeba30;
        --light-brown: #c8bfa8;
        --light-parchment: rgba(255,255,249,0.9);
        --hover-parchment: rgba(255,255,249,0.95);
    }

    body {
      font-family: 'Merriweather', serif;
      background-color: var(--parchment);
      color: var(--dark-brown);
      /* Subtle Texture */
      background-image: url('data:image/svg+xml,%3Csvg width="52" height="26" viewBox="0 0 52 26" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23d2c4a8" fill-opacity="0.2"%3E%3Cpath d="M10 10c0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6h2c0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4 3.314 0 6 2.686 6 6 0 2.21 1.79 4 4 4v2c-3.314 0-6-2.686-6-6 0-2.21-1.79-4-4-4-3.314 0-6-2.686-6-6zm25.464-1.95l8.486 8.486-1.414 1.414-8.486-8.486 1.414-1.414z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
      overflow-x: hidden; /* Prevent scroll during curtain animation */
    }
    /* Curtains */
    .curtain {
        position: fixed;
        top: 0;
        height: 100vh;
        width: 50%;
        background: linear-gradient(to bottom, #5d0000, var(--maroon), #5d0000); /* Dark Red Velvet */
        z-index: 100; /* Highest layer */
        box-shadow: inset -5px 0 15px rgba(0,0,0,0.4), inset 5px 0 15px rgba(0,0,0,0.4);
        overflow:hidden; /* Hide potential overflow */
    }
    .curtain-left {
        left:0;
        animation: curtain-open-left 2s ease-out 0.5s forwards; /* Added delay */
    }
    .curtain-right {
        right:0;
        animation: curtain-open-right 2s ease-out 0.5s forwards; /* Added delay */
    }
    @keyframes curtain-open-left {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); pointer-events: none; } /* Move off screen */
    }
    @keyframes curtain-open-right {
         0% { transform: translateX(0); }
        100% { transform: translateX(100%); pointer-events: none; } /* Move off screen */
    }
    /* Header */
    .hp-header {
        font-family: 'Cinzel Decorative', cursive;
        background: linear-gradient(to right, var(--maroon), var(--dark-maroon));
        color: var(--gold);
        border: 2px solid var(--gold);
        box-shadow: 0 5px 15px rgba(58,45,33,0.4);
        padding: 1.5rem;
        text-align: center;
        margin-bottom: 2rem;
        position: relative; /* Needed for z-index */
        z-index: 1; /* Below curtains */
        border-radius: 5px; /* Optional rounding */
    }
    .hp-header h1 {
        font-size: 2.5rem; /* Adjust as needed */
        line-height: 1.1;
    }
    .hp-header p {
        font-family: 'Merriweather', serif; /* Use body font for subtitle */
        font-size: 1.125rem; /* 18px */
        margin-top: 0.5rem;
    }
    /* Portal Cards */
    .portal-card {
        background-color: var(--light-parchment);
        border: 1px solid var(--light-brown);
        border-radius: 0.5rem; /* 8px */
        box-shadow: 0 4px 8px rgba(58,45,33,0.2);
        transition: transform .3s ease, box-shadow .3s ease, background-color .3s ease;
        padding: 1.5rem;
        position: relative;
        overflow: hidden; /* Keep sparkles contained */
        display: flex; /* Use flexbox for layout */
        flex-direction: column; /* Stack title and text */
        justify-content: center; /* Center content vertically */
        align-items: center; /* Center content horizontally */
        text-align: center;
        text-decoration: none; /* Remove underline from links */
        color: var(--dark-brown);
        min-height: 180px; /* Ensure minimum height */
    }
    .portal-card:hover {
        transform: translateY(-4px) scale(1.02);
        box-shadow: 0 8px 16px rgba(58,45,33,0.3);
        background-color: var(--hover-parchment);
    }
    .hp-title { /* Title within the card */
        font-family: 'Cinzel Decorative', cursive;
        color: var(--maroon);
        margin-bottom: 0.75rem; /* Increased spacing */
        font-size: 1.5rem; /* Adjusted size */
        line-height: 1.2;
        display: flex; /* Align icon and text */
        align-items: center;
        justify-content: center;
        gap: 0.5rem; /* Space between icon and text */
    }
    .portal-card p { /* Description text */
        font-size: 0.9rem;
        line-height: 1.4;
        margin-top: 0.5rem; /* Space above description */
    }
     /* Icon container */
     .icon-container {
         width: 40px; /* Size for SVG */
         height: 40px;
         margin-bottom: 0.5rem; /* Space below icon */
         fill: var(--maroon); /* SVG color */
         transition: transform 0.3s ease;
     }
     .portal-card:hover .icon-container {
         transform: scale(1.1);
     }

    /* Sparkle animation */
    .portal-card::after, .portal-card::before {
        content:'✨';
        position:absolute;
        font-size:1.2rem;
        color: var(--gold); /* Use gold for sparkles */
        opacity:0;
        pointer-events:none;
        z-index: 5; /* Ensure sparkles are above card content */
    }
    .portal-card::after { top:-10px; left:50%; }
    .portal-card::before { top:-10px; left:40%; transform: rotate(20deg); }
    .portal-card:hover::after { opacity:1; animation:sparkle1 1s ease-out forwards; }
    .portal-card:hover::before { opacity:1; animation:sparkle2 1.2s ease-out 0.1s forwards; }
    @keyframes sparkle1 { 0%{transform:translate(-50%,0) scale(0.5);}50%{transform:translate(-50%,10px) scale(1.2);opacity:1;}100%{transform:translate(-50%,-10px) scale(0.5);opacity:0;} }
    @keyframes sparkle2 { 0%{transform:translate(-50%,0) rotate(20deg) scale(0.5);}50%{transform:translate(-50%,15px) rotate(20deg) scale(1.1);opacity:0.8;}100%{transform:translate(-50%,-5px) rotate(20deg) scale(0.5);opacity:0;} }

    /* Fade-in main content after curtain */
    .main-content {
        opacity:0;
        animation:fadeIn 1s ease-out forwards;
        animation-delay:2.5s; /* Delay slightly longer than curtain animation duration */
    }
    @keyframes fadeIn { to { opacity:1; } }

    /* Buttons */
    .music-button {
        font-family: 'Cinzel Decorative', cursive;
        background: var(--gold);
        color: var(--maroon);
        border:2px solid var(--maroon);
        padding:.5rem 1rem;
        border-radius:5px;
        cursor:pointer;
        box-shadow:0 2px 4px rgba(58,45,33,0.3);
        transition: background-color .3s, color .3s, box-shadow .3s;
    }
    .music-button:hover {
        background: var(--maroon);
        color: var(--gold);
        box-shadow: 0 4px 8px rgba(58,45,33,0.5);
    }
     .music-button:active {
         transform: translateY(1px);
         box-shadow: 0 2px 4px rgba(58, 45, 33, 0.3);
     }
  </style>
</head>
<body class="bg-gray-100"> <div id="curtainLeft" class="curtain curtain-left"></div>
  <div id="curtainRight" class="curtain curtain-right"></div>

  <div class="main-content max-w-6xl mx-auto p-4">
    <header class="hp-header">
      <h1>Indrajeet & Ritika’s Shared Universe</h1>
      <p>A space for spellcraft, planning, journaling & life magic</p>
      <button id="musicToggle" class="music-button mt-4">Play Magical Music 🎵</button>
    </header>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <a class="portal-card" href="meal-plan.html">
        <div class="icon-container">
            <svg viewBox="0 0 24 24" fill="currentColor" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"><path d="M19 4h-3.5a.5.5 0 0 0-.5.5V5H9V4.5a.5.5 0 0 0-.5-.5H5a3 3 0 0 0-3 3v9a5 5 0 0 0 10 0v-1h2v1a5 5 0 0 0 10 0v-9a3 3 0 0 0-3-3zM5 6h3v1.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V6h3a1 1 0 0 1 1 1v8.17a3.001 3.001 0 0 1-5.998.176l-.002-.176V15h-2v.17c0 1.41-1.03 2.61-2.41 2.93L8 18.17a3 3 0 0 1-3-2.83V7a1 1 0 0 1 1-1zm7 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/></svg>
        </div>
        <h2 class="hp-title">Meal Planner</h2>
        <p>Plan our weekly magic meals</p>
      </a>
      <a class="portal-card" href="#owl-mail">
         <div class="icon-container">
             <svg viewBox="0 0 24 24" fill="currentColor" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
         </div>
        <h2 class="hp-title">Owl Mail</h2>
        <p>Write or check love notes</p>
      </a>
      <a class="portal-card" href="#pensieve">
         <div class="icon-container">
             <svg viewBox="0 0 24 24" fill="currentColor" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"><path d="M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"/></svg>
         </div>
        <h2 class="hp-title">The Pensieve</h2>
        <p>Journals, reflections & memories</p>
      </a>
      <a class="portal-card" href="#gift-vault">
         <div class="icon-container">
             <svg viewBox="0 0 24 24" fill="currentColor" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3s-3 1.34-3 3c0 .35.07.69.18 1H6c-1.11 0-1.99.89-1.99 2L4 20c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 8h12v12H6V8z"/></svg>
         </div>
        <h2 class="hp-title">Gift Vault</h2>
        <p>Track gifts & wishlists</p>
      </a>
      <a class="portal-card" href="#remembrall">
         <div class="icon-container">
             <svg viewBox="0 0 24 24" fill="currentColor" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"/></svg>
         </div>
        <h2 class="hp-title">Remembrall</h2>
        <p>Our dates & events</p>
      </a>
      <a class="portal-card" href="#article-chamber">
         <div class="icon-container">
             <svg viewBox="0 0 24 24" fill="currentColor" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
         </div>
        <h2 class="hp-title">Article Chamber</h2>
        <p>Write or read drafts</p>
      </a>
      <a class="portal-card" href="#room-of-requirement">
         <div class="icon-container">
             <svg viewBox="0 0 24 24" fill="currentColor" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6A4.997 4.997 0 0 1 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.06-2.15 3.98l.01.12z"/></svg>
         </div>
        <h2 class="hp-title">Room of Requirement</h2>
        <p>Tasks & future ideas</p>
      </a>
       </div>
  </div>

  <script>
    // Curtain animation end listeners
    const curtainLeft = document.getElementById('curtainLeft');
    const curtainRight = document.getElementById('curtainRight');

    // Add class to stop glitter after curtain animation.
    if (curtainLeft) { // Check if elements exist before adding listeners
        curtainLeft.addEventListener('animationend', () => curtainLeft.classList.add('curtain-opened'));
    }
    if (curtainRight) {
        curtainRight.addEventListener('animationend', () => curtainRight.classList.add('curtain-opened'));
    }


    // --- Tone.js Music Logic ---
    let musicPlaying = false;
    const musicButton = document.getElementById('musicToggle');
    let backgroundSynth, backgroundSeq, openingChime; // Instruments
    let hasInteracted = false; // To track if user has interacted for audio context

    // Function to initialize background music
    function setupBackgroundMusic() {
        if (backgroundSynth) return; // Already initialized
        backgroundSynth = new Tone.FMSynth({
            harmonicity: 3.1, modulationIndex: 10, detune: 0,
            oscillator: { type: "sine" },
            envelope: { attack: 0.01, decay: 0.1, sustain: 0.5, release: 1 },
            modulation: { type: "square" },
            modulationEnvelope: { attack: 0.5, decay: 0, sustain: 1, release: 0.5 }
        }).toDestination();
        const reverb = new Tone.Reverb(2).toDestination();
        backgroundSynth.connect(reverb);
        const melody = [ null, 'B4', null, 'E5', 'G5', null, 'F#5', null, 'E5', null, 'B4', null, 'D5', null, 'C#5', null, null, null, null, null, null, null, null, null ];
        backgroundSeq = new Tone.Sequence((time, note) => { if (note) { backgroundSynth.triggerAttackRelease(note, "8n", time); } }, melody, "4n");
        Tone.Transport.bpm.value = 100;
        backgroundSeq.loop = true;
    }

    // Function to play opening chime
    function playOpeningChime() {
         if (openingChime || !hasInteracted) return; // Play only once after interaction
         openingChime = new Tone.PluckSynth({ attackNoise: 1, dampening: 4000, resonance: 0.8 }).toDestination();
         const chimeReverb = new Tone.Reverb(1.5).toDestination();
         openingChime.connect(chimeReverb);
         const now = Tone.now();
         // Play chime slightly after curtain animation starts
         openingChime.triggerAttackRelease("C5", "8n", now + 0.1); // Corresponds to curtain animation delay
         openingChime.triggerAttackRelease("G5", "8n", now + 0.4);
         openingChime.triggerAttackRelease("E6", "4n", now + 0.8);
    }

    // Music Button Event Listener
    if (musicButton) { // Check if button exists
        musicButton.addEventListener('click', async () => {
            if (!hasInteracted) {
                try {
                    await Tone.start(); // Start audio context on first interaction
                    console.log("Audio Context Started by button click.");
                    playOpeningChime(); // Play chime on first interaction
                    hasInteracted = true;
                } catch (e) {
                     console.error("Error starting Tone.js on button click:", e);
                     alert("Could not initialize audio. Please try again or check browser permissions.");
                     return;
                }
            }

            if (!backgroundSynth) {
                setupBackgroundMusic(); // Setup music if not already done
            }

            if (!musicPlaying) {
                Tone.Transport.start();
                backgroundSeq.start(0);
                musicButton.textContent = 'Stop Magical Music 🤫';
                musicPlaying = true;
            } else {
                backgroundSeq.stop();
                Tone.Transport.stop();
                musicButton.textContent = 'Play Magical Music 🎵';
                musicPlaying = false;
            }
        });
    }


    // Attempt to play chime on load if context is already active (e.g., navigating back)
    // This is a best-effort for browsers that might allow it without direct click.
    window.addEventListener('load', () => {
        if (Tone.context.state === 'running' && !hasInteracted) {
             console.log("Audio Context was already running on load.");
             playOpeningChime();
             hasInteracted = true;
        }
    });

  </script>
</body>
</html>
